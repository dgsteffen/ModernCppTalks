
\subsection{Range-based for} \lyxframeend{}


\begin{frame}[fragile]
\frametitle{Range-based for, begin, end}

\begin{columns}[t]
\column{.6\textwidth}

\begin{itemize}
\item  <1->{\scriptsize\begin{verbatim}for(auto i = b.begin(); i != v.end() ++i)   \end{verbatim}}
\item[]<1->{\scriptsize\begin{verbatim}   total += *i; \end{verbatim}}
\item<2->{\scriptsize\begin{verbatim}sort(v.begin(), v.end());  \end{verbatim}}
\item<2->{\scriptsize\begin{verbatim}sort(&a[0], &a[1]+sizeof(a)/sizeof(a[0]));  \end{verbatim}}

\item<3-> {\scriptsize
\begin{verbatim}
vector<int> v;     // which is faster?
for( const auto& i : v)  // #1
  ..
for( const long& i : v)  // #2
  ..
\end{verbatim}
}

\end{itemize}

\column{.4\textwidth}
\begin{itemize}
\item  <1->{\scriptsize\begin{verbatim}for (const auto& d : v )  \end{verbatim}}
\item[]<1->{\scriptsize\begin{verbatim}   total += d; \end{verbatim}}
\item<2->{\scriptsize\begin{verbatim}sort(begin(v), end(v));  \end{verbatim}}
\item<2->{\scriptsize\begin{verbatim}sort(begin(a), end(a));  \end{verbatim}}
\item<4-> \#1 is faster: the type mismatch \emph{forces} a copy on each iteration.
\end{itemize}

\end{columns}


\uncover<2->{ \hfill \textcolor{purple} {Prefer free-function begin/end : they're
    more adaptable} \hfill}

\uncover<4->{ \hfill \textcolor{purple} {And use auto!} \hfill}




\end{frame}

